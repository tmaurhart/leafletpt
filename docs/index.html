<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Leaflet - Prototype</title>
    <meta name="author" content="Sascha Popp, Thomas Maurhart">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <link href="css/leaflet.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <script src="js/leaflet.js"></script>
    <script src="https://rawgithub.com/mylen/leaflet.TileLayer.WMTS/master/leaflet-tilelayer-wmts.js"></script>
    

</head>

<body onload="init();">
    
    <div id="mapid"></div>
    <div id="debug"></div>
    
    <script>
        var mymap = L.map('mapid');
        var x = document.getElementById("debug");

        function init() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
        }

        function showPosition(position) {
            var latlon = position.coords.latitude + "," + position.coords.longitude;
            var mymap = L.map('mapid').setView([latlon], 13);
        }

        /* Init Map */
        //var mymap = L.map('mapid').setView([47.58333, 12.16667], 13);
        /*L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
            maxZoom: 18,
            id: 'mapbox.streets',
            accessToken: 'pk.eyJ1IjoidG1hdXJoYXJ0IiwiYSI6ImNqd245anpudzBiemE0NG53NnUxbTU2ZW0ifQ.ynEQUwdgBGAE9BQOzuz5HQ'
        }).addTo(mymap);*/

        //http://{s}.wien.gv.at/basemap/geolandbasemap/normal/google3857/{z}/{y}/{x}.png
        var ign = new L.tileLayer("https://{s}.wien.gv.at/basemap/bmaporthofoto30cm/normal/google3857/{z}/{y}/{x}.jpeg", {
            subdomains: ['maps', 'maps1', 'maps2', 'maps3', 'maps4'],
            attribution: '&copy; <a href="http://basemap.at">Basemap.at</a>, Sascha & Tom'
        });

        mymap.addLayer(ign);

        /* Build Marker */
        var marker = L.marker([47.5839578, 12.1733215]).addTo(mymap);
    </script>

</body>

</html>